package com.test.demo.htstrix;import com.netflix.hystrix.HystrixCommand;import com.netflix.hystrix.HystrixCommandGroupKey;import com.netflix.hystrix.exception.HystrixRuntimeException;import static com.sun.tools.internal.ws.wsdl.parser.Util.fail;/** * @author 赵乾泽 * @version 1.0 * @title * @description * @created 2020/7/14 10:41 下午 * @changeRecord */public class HelloWorldCommandThatFailsFast extends HystrixCommand<String> {    private final boolean throwException;    public HelloWorldCommandThatFailsFast(boolean throwException) {        super(HystrixCommandGroupKey.Factory.asKey("ExampleGroup"));        this.throwException = throwException;    }    @Override    protected String run() throws Exception {        if (throwException) {            throw new RuntimeException("failure from CommandThatFailsFast");        } else {            return "success";        }    }    // 添加 getFallback() 方法称为"fail silent"，不抛异常返回默认值//    @Override//    protected String getFallback() {//        return null;//    }    public static void main(String[] args) {        // success        System.out.println(new HelloWorldCommandThatFailsFast(false).execute());        // false        try {            System.out.println(new HelloWorldCommandThatFailsFast(true).execute());            fail("we should have thrown an exception");        } catch (HystrixRuntimeException e) {            System.out.println( e.getCause().getMessage());            e.printStackTrace();        }    }}